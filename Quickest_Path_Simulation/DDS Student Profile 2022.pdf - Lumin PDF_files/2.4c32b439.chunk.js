(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./src/constants/dataElement.js":function(e,t,n){"use strict";t.a={COLOR_PALETTE:"colorPalette",OPACITY_SLIDER:"opacitySlider",STROKE_THICKNESS_SLIDER:"strokeThicknessSlider",FONT_SIZE_SLIDER:"fontSizeSlider",STYLE_OPTION:"styleOption",STYLE_POPUP:"stylePopup",SCALE_INPUT_CONTAINER:"scaleInputContainer",PRECISION_INPUT_CONTAINER:"precisionInputContainer",ANNOTATION_POPUP:"annotationPopup",AREA_MEASUREMENT_TOOL_BUTTON:"areaMeasurementToolButton",ARROW_TOOL_BUTTON:"arrowToolButton",BOOKMARKS_PANEL:"bookmarksPanel",BOOKMARKS_PANEL_BUTTON:"bookmarksPanelButton",CLOUD_TOOL_BUTTON:"cloudToolButton",COUNT_MEASUREMENT_TOOL_BUTTON:"countMeasurementToolButton",CROP_TOOL_BUTTON:"cropToolButton",DISTANCE_MEASUREMENT_TOOL_BUTTON:"distanceMeasurementToolButton",ELLIPSE_MEASUREMENT_TOOL_BUTTON:"ellipseMeasurementToolButton",ELLIPSE_TOOL_BUTTON:"ellipseToolButton",ERASER_TOOL_BUTTON:"eraserToolButton",FILE_ATTACHMENT_TOOL_BUTTON:"fileAttachmentToolButton",FILE_PICKER_BUTTON:"filePickerButton",FILE_PICKER_HANDLER:"filePickerHandler",FREE_HANDTOOL_BUTTON:"freeHandToolButton",FREETEXT_TOOL_BUTTON:"freeTextToolButton",HIGHLIGHT_TOOL_BUTTON:"highlightToolButton",LAYERS_PANEL:"layersPanel",LAYERS_PANEL_BUTTON:"layersPanelButton",LINE_TOOL_BUTTON:"lineToolButton",LINK_BUTTON:"linkButton",MEASUREMENT_OVERLAY:"measurementOverlay",MEASUREMENT_TOOL_GROUP_BUTTON:"measurementToolGroupButton",PERIMETER_MEASUREMENT_TOOL_BUTTON:"perimeterMeasurementToolButton",POLYGON_TOOL_BUTTON:"polygonToolButton",POLYLINE_TOOL_BUTTON:"polylineToolButton",RECTANGLE_TOOL_BUTTON:"rectangleToolButton",RECTANGULAR_AREA_MEASUREMENT_TOOL_BUTTON:"rectangularAreaMeasurementToolButton",REDACTION_BUTTON:"redactionButton",REDO_BUTTON:"redoButton",RUBBER_STAMP_TOOL_BUTTON:"rubberStampToolButton",SHAPE_TOOL_GROUP_BUTTON:"shapeToolGroupButton",SIGNATURE_TOOL_BUTTON:"signatureToolButton",SQUIGGLY_TOOL_BUTTON:"squigglyToolButton",STAMP_TOOL_BUTTON:"stampToolButton",STICKY_TOOL_BUTTON:"stickyToolButton",STRIKEOUT_TOOL_BUTTON:"strikeoutToolButton",TEXT_HIGHLIGHT_TOOL_BUTTON:"textHighlightToolButton",TEXT_REDACT_TOOL_BUTTON:"textRedactToolButton",TEXT_SELECT_BUTTON:"textSelectButton",TEXT_SQUIGGLY_TOOL_BUTTON:"textSquigglyToolButton",TEXT_STRIKEOUT_TOOL_BUTTON:"textStrikeoutToolButton",TEXT_TOOL_GROUP_BUTTON:"textToolGroupButton",TEXT_UNDERLINE_TOOL_BUTTON:"textUnderlineToolButton",TOOLS_BUTTON:"toolsButton",UNDERLINE_TOOL_BUTTON:"underlineToolButton",UNDO_BUTTON:"undoButton",COPY_TEXT_BUTTON:"copyTextButton"}},"./src/lumin-components/MaterialSelect/index.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),a=n.n(o),r=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(r),i=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),s=n.n(i),c=n("./node_modules/@babel/runtime/helpers/inherits.js"),u=n.n(c),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(m),h=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),T=n.n(h),v=n("./node_modules/react/index.js"),y=n.n(v),O=n("./node_modules/prop-types/index.js"),S=n.n(O),b=n("./node_modules/@material-ui/core/esm/MenuList/MenuList.js"),g=n("./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js"),E=n("./node_modules/@material-ui/core/esm/styles/withStyles.js"),C=n("./node_modules/lodash/capitalize.js"),_=n.n(C),P=n("./node_modules/classnames/index.js"),N=n.n(P),R=n("./src/lumin-components/Icomoon/index.js"),L=n("./src/lumin-components/LuminPlanLabel/index.js"),x=n("./src/constants/lumin-common.js"),k=n("./src/constants/styles/index.js"),B=n("./src/lumin-components/MaterialPopper/index.js");function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return p()(this,n)}}var M=Object(E.a)({disabledMenu:{"&:hover":{cursor:"auto",background:"inherit"}}}),A=function(e){u()(n,e);var t=j(n);function n(e){var o;return a()(this,n),o=t.call(this,e),T()(s()(o),"togglePopper",(function(){o.setState((function(e){return{popperShow:!e.popperShow}}))})),T()(s()(o),"closePopper",(function(e){o.anchorEl.contains(e.target)||o.setState({popperShow:!1})})),T()(s()(o),"onItemClick",(function(e){var t=o.props.onSelected;o.setState({popperShow:!1}),t(e)})),o.state={popperShow:!1},o}return l()(n,[{key:"render",value:function(){var e,t=this,n=this.props,o=n.items,a=n.containerClasses,r=n.inputClasses,l=n.value,i=n.blankMessage,s=n.disabled,c=n.classes,u=n.childNameComponent,d=n.arrowStyle,p=this.state.popperShow,m=o.find((function(e){return e.value===l}));return y.a.createElement("div",{className:"MaterialSelect ".concat(a||""," ").concat(p?"MaterialSelect--focus":""," ").concat(s?"disabled":"")},y.a.createElement("div",{className:N()("MaterialSelect__input",(e={},T()(e,r,Boolean(r)),T()(e,"MaterialSelect__input--disabled",s),e)),onClick:s?null:function(){return t.togglePopper()},ref:function(e){t.anchorEl=e}},y.a.createElement("span",{className:"form__text--overflow ".concat(m&&m.class?m.class:"")},m?m.name:"- Choose one -"),y.a.createElement(R.a,{className:"dropdown icon__9 MaterialSelect__input__icon_dropdown",color:d.color,size:d.size})),y.a.createElement(B.a,{open:p,anchorEl:this.anchorEl,handleClose:this.closePopper,placement:"bottom",classes:"MaterialSelect__popper"},y.a.createElement(b.a,null,o.length>0?o.map((function(e){var n;return y.a.createElement(g.a,{className:"Menu__item ".concat(e.disabled?"disabled":""," ").concat(e.selected?"selected":""),key:JSON.stringify(e),onClick:e.disabled?null:function(){return t.onItemClick(e)}},y.a.createElement("div",{className:"item__container"},y.a.createElement("div",{className:"form__text--overflow ".concat(null!==(n=e.class)&&void 0!==n?n:"")},"".concat(e.name," ").concat(e.note?e.note:"")," ",e.value===l&&u),y.a.createElement("div",null,e.payment&&y.a.createElement(L.a,{label:_()(e.payment.type),entity:x.k.ORGANIZATION,payment:e.payment}))))})):y.a.createElement(g.a,{className:c.disabledMenu,disableRipple:!0},i||"Nothing to choose"))))}}]),n}(y.a.PureComponent);A.propTypes={items:S.a.array,containerClasses:S.a.string,inputClasses:S.a.string,value:S.a.any,blankMessage:S.a.oneOfType([S.a.string,S.a.node]),disabled:S.a.bool,onSelected:S.a.func,classes:S.a.object,childNameComponent:S.a.element,arrowStyle:S.a.shape({size:S.a.number,color:S.a.string})},A.defaultProps={items:[],containerClasses:"",inputClasses:"",value:0,blankMessage:"",disabled:!1,onSelected:function(){},classes:{},childNameComponent:y.a.createElement("div",null),arrowStyle:{size:16,color:k.b.PRIMARY}};var I=M(A);t.a=I},"./src/lumin-components/StylePalette/index.js":function(e,t,n){"use strict";var o=n("./node_modules/react-redux/es/index.js"),a=n("./src/redux/selectors/index.js"),r=n("./node_modules/@babel/runtime/helpers/extends.js"),l=n.n(r),i=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),s=n.n(i),c=n("./node_modules/@babel/runtime/helpers/createClass.js"),u=n.n(c),d=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(m),h=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),T=n.n(h),v=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),y=n.n(v),O=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),S=n.n(O),b=n("./node_modules/react/index.js"),g=n.n(b),E=n("./node_modules/prop-types/index.js"),C=n.n(E),_=n("./node_modules/react-i18next/dist/es/withTranslation.js"),P=n("./src/redux/actions/index.js"),N=n("./node_modules/classnames/index.js"),R=n.n(N),L=n("./src/lumin-components/Tooltip/index.js"),x=n("./src/lumin-components/Icomoon/index.js"),k=n("./src/constants/documentConstants.js"),B=n("./src/constants/map.js");function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return T()(this,n)}}var M=function(e){f()(n,e);var t=j(n);function n(){var e;s()(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a)),S()(p()(e),"setActivePalette",(function(t){var n=e.props;(0,n.setActivePalette)(n.colorMapKey,t)})),S()(p()(e),"renderBorderColorIcon",(function(){var t=e.props,n=t.style.StrokeColor,o=t.colorPalette,a=null===n||void 0===n?void 0:n.toHexString(),r=o===k.b.STROKE_COLOR,l="#FFFFFF"===a;return g.a.createElement(L.a,{content:"option.annotationColor.StrokeColor"},g.a.createElement("div",{className:R()({border:!0,selected:r}),onClick:function(){return e.setActivePalette(k.b.STROKE_COLOR)}},g.a.createElement(x.a,{className:"border",color:l&&!r?"rgb(192, 208, 223)":n})))})),S()(p()(e),"renderFillColorIcon",(function(){var t=e.props,n=t.style.FillColor,o=t.colorPalette,a=null===n||void 0===n?void 0:n.toHexString(),r=o===k.b.FILL_COLOR,l="#FFFFFF"===a;return g.a.createElement(L.a,{content:"option.annotationColor.FillColor"},g.a.createElement("div",{className:R()({fill:!0,selected:r}),onClick:function(){return e.setActivePalette(k.b.FILL_COLOR)}},g.a.createElement(x.a,{className:"rect-filled",color:l&&!r?"rgb(192, 208, 223, 0.6)":a})))})),S()(p()(e),"renderTitleHeader",(function(){var t=e.props,n=t.colorPalette,o="Style";return"freeText"===t.colorMapKey&&(n===k.b.TEXT_COLOR&&(o="Text style"),n!==k.b.STROKE_COLOR&&n!==k.b.FILL_COLOR||(o="Text frame")),o})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.colorPalette,n=e.colorMapKey,o=e.isTextColorPaletteDisabled,a=e.isBorderColorPaletteDisabled,r=e.isFillColorPaletteDisabled,l=e.isAnnotationStylePopup,i=e.annotation,s=Object(B.b)(n).availablePalettes,c=i&&i.Subject!==k.g.REDACTION,u=(null===s||void 0===s?void 0:s.includes(k.b.TEXT_COLOR))&&!o&&c,d=(null===s||void 0===s?void 0:s.includes(k.b.STROKE_COLOR))&&!a&&c,p=(null===s||void 0===s?void 0:s.includes(k.b.FILL_COLOR))&&!r&&c;return(null===s||void 0===s?void 0:s.length)<2||!u&&!d&&!p?g.a.createElement("div",{className:"stylePopup-title"},"freeHand"===n&&g.a.createElement("div",{className:R()({"palette--title":!0,"palette--mg-0":l})})):g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"stylePopup-title"},g.a.createElement("div",{className:R()({"palette--title":!0,"palette--mg-0":t===k.b.FILL_COLOR})},this.renderTitleHeader(),g.a.createElement("div",{className:"palette palette--mg-0 ColorPaletteHeader__palette--flex"},t!==k.b.TEXT_COLOR&&p&&this.renderFillColorIcon(),t!==k.b.TEXT_COLOR&&d&&this.renderBorderColorIcon()))))}}]),n}(g.a.PureComponent);M.propTypes={style:C.a.object.isRequired,colorPalette:C.a.oneOf(["TextColor","StrokeColor","FillColor"]),colorMapKey:C.a.string.isRequired,setActivePalette:C.a.func.isRequired,isTextColorPaletteDisabled:C.a.bool,isFillColorPaletteDisabled:C.a.bool,annotation:C.a.object,isBorderColorPaletteDisabled:C.a.bool,isAnnotationStylePopup:C.a.bool},M.defaultProps={colorPalette:"TextColor",isTextColorPaletteDisabled:!1,isFillColorPaletteDisabled:!1,isBorderColorPaletteDisabled:!1,annotation:{},isAnnotationStylePopup:!1};var A=M,I={setActivePalette:P.a.setActivePalette},D=Object(o.c)((function(e){return{isTextColorPaletteDisabled:a.a.isElementDisabled(e,"textColorPalette"),isFillColorPaletteDisabled:a.a.isElementDisabled(e,"fillColorPalette"),isBorderColorPaletteDisabled:a.a.isElementDisabled(e,"borderColorPalette")}}),I)(Object(_.a)(null,{wait:!1})(A)),w=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),U=n.n(w),F=n("./src/core/index.js"),K=n("./src/utils/index.js"),V=n("./src/constants/toolsName.js"),H="redaction",z=n("./node_modules/@material-ui/core/esm/Button/Button.js"),G=g.a.createElement("svg",{width:"24px",height:"24px",style:{position:"relative",borderRadius:"100%",border:"1px solid #c0d0df"}},g.a.createElement("line",{x1:"0%",y1:"100%",x2:"100%",y2:"0%",strokeWidth:"1",stroke:"#e44234",strokeLinecap:"square"}));function q(e){var t=e.property,n=e.setColor,o=e.active,a=e.className;return e.isNotRenderTransparencyCell||"TextColor"===t||"StrokeColor"===t||"redaction"===t?null:g.a.createElement(z.a,{onClick:function(e){return n(e)},className:"ColorPaletteLumin__transparent ".concat(a," ").concat(o)},g.a.createElement("div",{className:"cell ColorPaletteLumin__transparent--cell"},G))}q.propTypes={property:C.a.string,setColor:C.a.func.isRequired,active:C.a.string,className:C.a.string,isNotRenderTransparencyCell:C.a.bool},q.defaultProps={property:"",active:"",className:"",isNotRenderTransparencyCell:!1};var Y=q,X=function(e){var t=e.bg,n=e.onClick,o=e.className;return g.a.createElement(z.a,{key:t,onClick:n,value:t,className:o},g.a.createElement("div",{className:"cell ".concat("rgb(255, 255, 255)"===t?"bordered":""),style:{backgroundColor:t}}))};X.propTypes={bg:C.a.string,onClick:C.a.func,className:C.a.string},X.defaultProps={bg:"",className:"",onClick:function(){}};var W=X,Z=n("./node_modules/react-color/es/index.js"),J=n("./src/lumin-components/LuminButton/index.js"),Q=n("./node_modules/@material-ui/core/esm/Grid/Grid.js"),$=n("./src/lumin-components/MaterialPopper/index.js");function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return T()(this,n)}}var te=function(e){f()(n,e);var t=ee(n);function n(e){var o;return s()(this,n),o=t.call(this,e),S()(p()(o),"handleToggleColorPicker",(function(){o.setState({displayColorPicker:!o.state.displayColorPicker})})),S()(p()(o),"handleChange",(function(e){var t=e.rgb;o.setState({color:t})})),S()(p()(o),"setPalette",(function(){var e=o.state.color;o.props.setPalette("rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")),o.handleToggleColorPicker()})),S()(p()(o),"handleClosePicker",(function(){o.setState({displayColorPicker:!1})})),o.state={displayColorPicker:!1,color:{r:34,g:25,b:75,a:1}},o}return u()(n,[{key:"render",value:function(){var e=this,t=this.props.placement,n=this.state,o=n.displayColorPicker,a=n.color;return g.a.createElement(g.a.Fragment,null,g.a.createElement(z.a,{onClick:this.handleToggleColorPicker,value:this.props.bg,className:"ColorPickerBtn ".concat(this.props.className," ").concat(this.state.displayColorPicker?"active-picker":""),ref:function(t){e.anchorEl=t}},g.a.createElement(x.a,{className:"basic-tint",size:22})),g.a.createElement($.a,{open:o,anchorEl:this.anchorEl,classes:"ColorPicker__popper",placement:t,handleClose:this.handleClosePicker},g.a.createElement("div",{className:"ColorPicker"},g.a.createElement(Z.a,{className:"ColorPicker__container",disableAlpha:!0,color:a,width:"auto",onChangeComplete:this.handleChange,styles:{default:{picker:{boxShadow:"none"}}}}),g.a.createElement("div",{className:"divider horizontal"}),g.a.createElement(Q.a,{container:!0,spacing:2},g.a.createElement(Q.a,{item:!0,xs:6},g.a.createElement(J.a,{type:"secondary",label:"Cancel",full:!0,onClick:this.handleToggleColorPicker})),g.a.createElement(Q.a,{item:!0,xs:6},g.a.createElement(J.a,{type:"primary",label:"Confirm",full:!0,onClick:this.setPalette}))))))}}]),n}(g.a.PureComponent);te.propTypes={bg:C.a.string,className:C.a.string,setPalette:C.a.func,placement:C.a.string},te.defaultProps={placement:"bottom",bg:"",className:"",setPalette:function(){}};var ne=te;function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return T()(this,n)}}var ae={property:C.a.string.isRequired,color:C.a.object,onStyleChange:C.a.func.isRequired,colorMapKey:C.a.string.isRequired,overridePalette:C.a.object,annotation:C.a.object,placement:C.a.string},re=function(e){f()(n,e);var t=oe(n);function n(e){var o;return s()(this,n),o=t.call(this,e),S()(p()(o),"defaultPalette",function(){var e,t,n=["transparency","rgb(249, 73, 57)","rgb(255, 230, 162)","rgb(79, 194, 246)","rgb(126, 211, 33)","rgb(74, 144, 226)","rgb(80, 227, 194)","rgb(246, 123, 137)","rgb(255, 255, 255)"];return(F.default.getSelectedAnnotations().length&&F.default.getSelectedAnnotations().some((function(e){return"Comment"===e.Subject}))||"AnnotationCreateSticky"===(null===(e=F.default.getToolMode())||void 0===e?void 0:e.name))&&n.splice(7,1),(F.default.getSelectedAnnotations().length&&(null===(t=F.default.getToolMode())||void 0===t?void 0:t.name)===V.a.REDACTION||o.props.colorMapKey===H)&&n.splice(7,1,"rgb(0, 0, 0)"),n}()),S()(p()(o),"setColor",(function(e){e.stopPropagation();var t=o.props,n=t.property,a=t.onStyleChange,r=e.currentTarget.value,l=r?r.slice(r.indexOf("(")+1,-1).split(","):[0,0,0,0];a(n,new window.Annotations.Color(l[0],l[1],l[2],l[3]))})),S()(p()(o),"setPalette",(function(e){var t=o.props,n=t.property,a=t.onStyleChange;if(!o.state.palette.includes(e)){var r="transparency"===o.state.palette[0]?1:0,l=U()(o.state.palette);null===l||void 0===l||l.splice(r,1),o.setState({palette:[].concat(U()(l),[e])});var i=e?e.slice(e.indexOf("(")+1,-1).split(","):[0,0,0,0];a(n,new window.Annotations.Color(i[0],i[1],i[2],i[3]))}})),S()(p()(o),"renderActiveClass",(function(e){var t=o.props.color,n=K.g.rbgToHex(e)||"transparency";return(t.toHexString()||"transparency").toLowerCase()===n?"active":""})),o.state={palette:[]},o.setPalette=o.setPalette.bind(p()(o)),o}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.overridePalette,n=e.colorMapKey,o=e.color,a=(null===t||void 0===t?void 0:t[n])||(null===t||void 0===t?void 0:t.global)||this.defaultPalette,r="rgb(".concat(o.R,", ").concat(o.G,", ").concat(o.B,")");a.includes(r)||null===a||void 0===a||a.splice((null===a||void 0===a?void 0:a.length)-1,1,r),this.setState({palette:a})}},{key:"render",value:function(){var e=this,t=this.state.palette,n=this.props,o=n.annotation,a=n.placement,r=o&&o.Subject===k.g.REDACTION;return g.a.createElement("div",{className:"ColorPaletteLumin","data-element":"colorPalette"},t.map((function(t){return g.a.createElement(g.a.Fragment,{key:t},"transparency"===t?g.a.createElement(Y,{setColor:e.setColor,property:e.props.property,active:e.renderActiveClass(t),className:"color-cell",isNotRenderTransparencyCell:r}):g.a.createElement(W,{bg:t,onClick:function(t){return e.setColor(t)},className:"color-cell  ".concat(e.renderActiveClass(t))}))})),g.a.createElement(ne,{setPalette:this.setPalette,placement:a}))}}]),n}(g.a.PureComponent);re.propTypes=ae,re.defaultProps={overridePalette:null,color:"",annotation:{},placement:"bottom"};var le=re,ie=Object(o.c)((function(e){return{overridePalette:a.a.getCustomElementOverrides(e,"colorPalette")}}))(le),se=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),ce=n.n(se),ue=n("./node_modules/lodash/debounce.js"),de=n.n(ue),pe=n("./node_modules/@material-ui/core/esm/MenuList/MenuList.js"),me=n("./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js"),fe=n("./src/lumin-components/MaterialSelect/index.js"),he=n("./src/lumin-components/ActionButton/index.js"),Te=n("./src/lumin-components/Shared/Input/index.js"),ve=n("./src/helpers/getRichTextCSSStyle.js");function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=/^\d+$/,be=function(e,t){var n=Object(ve.a)(e.getContents(),t);n&&e.setRichTextStyle(n),F.default.getAnnotationManager().redrawAnnotation(e)},ge=function(e){var t=e.key,n=e.annotation,o=e.fontWeight,a=Number(n.FontSize.replace(/\p|t/g,""));if("bold"===t&&("Arial"===n.Font||"Helvetica"===n.Font)){var r=a;a>=40?r=a-9:a<40&&a>=30?r=a-6:a<30&&a>=20&&(r=a-3);var l=function(e,t){var n=document.createElement("canvas").getContext("2d");return n.font=t,n.measureText(e).width}(n.getContents().split(/\n/).sort((function(e,t){return t.length-e.length}))[0],"".concat(o," ").concat(r,"pt Helvetica"));n.Width<l&&n.setWidth(l)}},Ee=[{value:"Aladin",name:"Aladin",class:"font-aladin"},{value:"Allura",name:"Allura",class:"font-allura"},{value:"Cookie",name:"Cookie",class:"font-cookie"},{value:"Courgette",name:"Courgette",class:"font-courgette"},{value:"DancingScript",name:"Dancing Script",class:"font-dancing-script"},{value:"GillSans",name:"GillSans",class:"font-gillSans"},{value:"Helvetica",name:"Helvetica",class:"font-helvetica"},{value:"Italianno",name:"Italianno",class:"font-italianno"},{value:"Lora",name:"Lora",class:"font-lora"},{value:"Merriweather",name:"Merriweather",class:"font-merriweather"},{value:"Roboto",name:"Roboto",class:"font-roboto"}],Ce=function(e){var t,n=e.key,o=e.annotation,a=e.onStyleChange,r=void 0===a?function(){}:a,l=null===(t=o.getContents())||void 0===t?void 0:t.length,i=o.getRichTextStyle();Object.prototype.hasOwnProperty.call(i,l)||(i[l]={});var s=i[Object.keys(i)[0]],c=Object.values(s),u={key:n,objRichStyleKeys:c,richStyle:s,annotation:o,propertyName:function(e){return{bold:"font-weight",italic:"font-style",word:"text-decoration"}[e]}(n),onStyleChange:r};void 0!==c&&null!==c&&void 0!==c&&c.includes(n)?function(e){var t=e.key,n=e.objRichStyleKeys,o=e.richStyle,a=e.annotation,r=e.propertyName,l=e.onStyleChange,i=void 0===l?function(){}:l,s=null===n||void 0===n?void 0:n.filter((function(e){return e!==t}));i(k.b.FONT_STYLE,s),a instanceof window.Annotations.FreeTextAnnotation&&(delete o[r],be(a,o))}(Oe({},u)):function(e){var t=e.key,n=e.objRichStyleKeys,o=e.richStyle,a=e.annotation,r=e.propertyName,l=e.onStyleChange,i=void 0===l?function(){}:l,s=(null===n||void 0===n?void 0:n.length)>0?[].concat(U()(n),[t]):[t];i(k.b.FONT_STYLE,s),a instanceof window.Annotations.FreeTextAnnotation&&(o[r]=t,be(a,o)),ge({key:"bold",annotation:a,fontWeight:"bold"})}(Oe({},u))},_e=function(e){var t,n=e.inputFontSizeRef,o=e.inputFocused,a=e.fontSizeValue,r=e.setOpenFontSizePopper,l=void 0===r?function(){}:r,i=e.handleUpdateFontSize,s=void 0===i?function(){}:i,c=e.renderCheckedActiveFont,u=void 0===c?function(){}:c,d=(t=5,Array(45-t+1).fill().map((function(e,n){return t+n}))||[]);return g.a.createElement($.a,{open:!0,anchorEl:n.current,classes:"FreeTextPaletteHeader__MaterialPopper",handleClose:function(){o||l(!1)}},g.a.createElement(pe.a,{className:"FreeTextPaletteHeader__MenuList"},d.map((function(e,t){return g.a.createElement(me.a,{key:t,onClick:function(){s(e),l(!1)}},e," pt ",e===Number(a)&&u())}))))};function Pe(e){var t=e.isAnnotationStylePopup,n=e.style,o=n.Font,a=n.FontSize,r=e.annotation,l=e.colorPalette,i=e.colorMapKey,s=e.onStyleChange,c=null===a||void 0===a?void 0:a.split("pt")[0],u=Object(b.useRef)(),d=Object(b.useState)(c),p=ce()(d,2),m=p[0],f=p[1],h=Object(b.useState)(!1),T=ce()(h,2),v=T[0],y=T[1],O=Object(b.useState)(!1),S=ce()(O,2),E=S[0],C=S[1],_=r&&r.Subject===k.g.FREE_TEXT&&!r.getContents(),P=_?"FreeTextPaletteHeader__ActionButton--disabled":"",N=function(e){var t;f(e),s(k.b.FONT_SIZE,(t=e,"".concat(Math.round(t),"pt")))},L=Object(b.useCallback)(de()((function(e){Number(e)>=5&&Number(e)<=45&&N(e)}),700),[]),B=function(e){var n=t&&r&&r.getRichTextStyle();if(n){var o=n[Object.keys(n)[0]];if(Object.values(o).includes(e))return"active"}return""},j=function(){return g.a.createElement("span",{className:"palette__font-selected"},g.a.createElement(x.a,{className:"check",size:14}))},M=[{title:"Bold",icon:"text-bold",iconSize:24,className:"text-tool ".concat(B("bold")," ").concat(P),onClick:function(){Ce({key:"bold",annotation:r,onStyleChange:s})},disabled:_},{title:"Italic",icon:"text-italic",iconSize:24,className:"text-tool ".concat(B("italic")," ").concat(P),onClick:function(){Ce({key:"italic",annotation:r,onStyleChange:s})},disabled:_},{title:"Underline",icon:"text-underline",iconSize:24,className:"text-tool ".concat(B("word")," ").concat(P),onClick:function(){Ce({key:"word",annotation:r,onStyleChange:s})},disabled:_}];return g.a.createElement("div",{className:"stylePopup-title"},g.a.createElement("div",{className:R()({"palette--mg-0":l===k.b.FILL_COLOR})},g.a.createElement("span",{className:"palette--title-free-text"},function(){var e="Style";return"freeText"===i&&(l===k.b.TEXT_COLOR&&(e="Text style"),l!==k.b.STROKE_COLOR&&l!==k.b.FILL_COLOR||(e="Text frame")),e}()),g.a.createElement("div",{className:R()({palette:!0,"ColorPaletteHeader__palette--flex":!t})},g.a.createElement(fe.a,{value:o,onSelected:function(e){s(k.b.FONT,e.value)},containerClasses:R()({"FreeTextPaletteHeader__MaterialSelect--full-width":t,"FreeTextPaletteHeader__MaterialSelect--font-size":!0}),inputClasses:"input",items:Ee,childNameComponent:j()}),g.a.createElement("div",{className:R()({"FreeTextPaletteHeader__input--wrapper":!0,"FreeTextPaletteHeader__input--wrapper-flex":t})},g.a.createElement("div",{className:"Input--container",onClick:function(){v||u.current.focus()}},g.a.createElement(Te.a,{inputRef:u,value:"".concat(m).concat(v?"":" pt"),postfix:g.a.createElement("span",{className:"FreeTextPaletteHeader__Input--font-extension"},g.a.createElement(x.a,{className:"dropdown MaterialSelect__input__icon_dropdown",size:16})),onChange:function(e){var t=e.target.value,n=new RegExp(Se);t&&!n.test(t)||(f(t),L(t))},onBlur:function(e){var t=Number(e.target.value),n=Math.max(5,Math.min(45,t));N(n),y(!1)},onFocus:function(){C(!0),y(!0)},onKeyPress:function(e){"Enter"===e.key&&(u.current.blur(),C(!1))}})),t&&g.a.createElement("div",{className:"FreeTextPaletteHeader__ActionButton--wrapper"},M.map((function(e,t){return g.a.createElement(he.a,{key:t,title:e.title,icon:e.icon,iconSize:e.iconSize,className:e.className,onClick:e.onClick,disabled:e.disabled})}))),E&&_e({inputFontSizeRef:u,inputFocused:v,fontSizeValue:m,setOpenFontSizePopper:C,handleUpdateFontSize:N,renderCheckedActiveFont:j})))))}Pe.propTypes={style:C.a.object.isRequired,colorPalette:C.a.oneOf(["TextColor","StrokeColor","FillColor"]),colorMapKey:C.a.string.isRequired,onStyleChange:C.a.func.isRequired,annotation:C.a.object,isAnnotationStylePopup:C.a.bool},Pe.defaultProps={colorPalette:"TextColor",annotation:{},isAnnotationStylePopup:!1};var Ne=Pe,Re=n("./src/helpers/device.js"),Le=n("./node_modules/react-color/lib/components/common/index.js"),xe=function(){return g.a.createElement("div",{style:{width:"16px",height:"16px",borderRadius:"8px",marginTop:"1px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}})};function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=function(e){var t=e.rgb,n=e.hsl,o=e.hsv,a=e.renderers,r=e.extension,l=e.sliderValue,i=e.setSliderValue,s=e.changeSlider,c=e.handleOnBlur,u=e.property,d=e.displayProperty,p=Object(b.useState)(l),m=ce()(p,2),f=m[0],h=m[1];return Object(b.useEffect)((function(){l<=100&&h(l)}),[l]),g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{id:"".concat(u,"-").concat(d),onMouseDown:function(){document.getElementById("".concat(u,"-").concat(d)).style.cursor="grabbing"},onMouseUp:function(){document.getElementById("".concat(u,"-").concat(d)).style.cursor="pointer"},className:"slider__alpha"},g.a.createElement(Le.Alpha,{width:208,rgb:Be(Be({},t),{},{a:f/100}),hsl:n,hsv:o,renderers:a,onChange:function(e){var t=100*(null===e||void 0===e?void 0:e.a);s(t)},pointer:xe})),g.a.createElement("div",{className:"slider__value"},g.a.createElement(Te.a,{postfix:g.a.createElement("span",{className:"SliderLumin__extension"},r),value:String(l),onChange:function(e){i(e)},onBlur:c})))};je.propTypes={renderers:C.a.any,sliderValue:C.a.number,extension:C.a.string,property:C.a.string,displayProperty:C.a.string,rgb:C.a.object,hsl:C.a.object,hsv:C.a.object,setSliderValue:C.a.func,changeSlider:C.a.func,handleOnBlur:C.a.func},je.defaultProps={renderers:{},sliderValue:0,extension:"",property:"",displayProperty:"",rgb:{},hsl:{},hsv:{},setSliderValue:function(){},changeSlider:function(){},handleOnBlur:function(){}};var Me=Object(Z.b)(je);function Ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return T()(this,n)}}var Ie={property:C.a.string.isRequired,initialValue:C.a.oneOfType([C.a.number,C.a.string]),displayProperty:C.a.string.isRequired,dataElement:C.a.string.isRequired,getCirclePosition:C.a.func.isRequired,convertRelativeCirclePositionToValue:C.a.func.isRequired,onStyleChange:C.a.func.isRequired,t:C.a.func.isRequired,limitValue:C.a.object.isRequired,annotation:C.a.object.isRequired,convertValue:C.a.func.isRequired,currentPalette:C.a.string.isRequired},De=function(e){f()(n,e);var t=Ae(n);function n(e){var o;return s()(this,n),o=t.call(this,e),S()(p()(o),"onAnnotationChanged",(function(){var e=o.props.annotation;if("Free text"===e.Subject&&e.getContents()&&(e.Width<50||e.Height<20)){var t=F.default.getDocument(),n=F.default.getCurrentPage(),a=t.getPageInfo(n),r=t.getPageMatrix(n),l=t.getPageRotation(n);e.fitText(a,r,l),F.default.getAnnotationManager().redrawAnnotation(e)}})),S()(p()(o),"updateSvg",(function(){o.setLineLength(),o.forceUpdate()})),S()(p()(o),"setLineLength",(function(){var e,t;(null===(e=o.sliderSvg.current)||void 0===e?void 0:e.getBoundingClientRect().width)<170?o.lineLength=o.sliderSvg.current.getBoundingClientRect().width+50-24:o.lineLength=(null===(t=o.sliderSvg.current)||void 0===t?void 0:t.getBoundingClientRect().width)-24})),S()(p()(o),"onMouseDown",(function(e){var t=o.props,n=t.property,a=t.displayProperty;document.getElementById("".concat(n,"-").concat(a)).style.cursor="grabbing",o.isMouseDown=!0,o.onMove(e.nativeEvent)})),S()(p()(o),"onMouseUp",(function(){var e=o.props,t=e.property,n=e.displayProperty;document.getElementById("".concat(t,"-").concat(n)).style.cursor="pointer",o.isMouseDown=!1})),S()(p()(o),"onTouchStart",(function(e){o.onMove(e)})),S()(p()(o),"onMove",(function(e){if(!!e.touches||o.isMouseDown){e.preventDefault();var t=(0,o.props.convertRelativeCirclePositionToValue)(o.getRelativeCirclePosition(e));o.setState({sliderValue:t}),o.handleUpdateStyle(t)}})),S()(p()(o),"handleUpdateStyle",(function(e){var t=o.props,n=t.property,a=t.onStyleChange,r=t.convertValue,l=t.getCirclePosition;o.setState({sliderValue:parseInt(e)},(function(){o.setState({circleCenter:l(o.lineLength,o.state.sliderValue)})})),a(n,r(e))})),S()(p()(o),"getRelativeCirclePosition",(function(e){var t,n=!e.touches,a=8+o.lineLength,r=o.sliderSvg.current.getBoundingClientRect().left;return(t=n?e.pageX-r:e.touches[0].pageX-r)<8?t=8:t>a&&(t=a),(t-8)/o.lineLength})),S()(p()(o),"onChange",(function(e){var t=o.props.limitValue,n=t.max,a=t.min;(e=Number(e))>=Number(a)&&e<=Number(n)&&o.handleUpdateStyle(e)})),S()(p()(o),"handleChangeInput",(function(e){var t=e.target.value;t&&Number.isNaN(Number(t))||(o.setState({sliderValue:parseInt(t)||0}),o.debounceInput(t))})),S()(p()(o),"handleOnBlur",(function(e){var t=o.props.limitValue,n=t.max,a=t.min,r=Number(e.target.value);if(r<Number(a)||r>Number(n)){var l=Math.max(Number(a),Math.min(Number(n),Number(r)));o.handleUpdateStyle(l)}})),S()(p()(o),"getExtension",(function(){return"Opacity"===o.props.property?"%":"pt"})),S()(p()(o),"renderSlider",(function(){var e=o.props,t=e.dataElement,n=e.displayProperty,a=e.t,r=e.property,l=o.state,i=l.sliderValue,s=l.circleCenter;return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"slider__property","data-element":t},g.a.createElement(L.a,{content:"thickness"!==n?a("option.slider.".concat(n)):"Border Size"},g.a.createElement("div",null,"FontSize"===r?g.a.createElement(x.a,{className:"text-font-size",size:22}):g.a.createElement(x.a,{className:"stroke-size",size:16})))),g.a.createElement("svg",{id:"".concat(r,"-").concat(n),width:"100%",height:22,onMouseDown:o.onMouseDown,onTouchStart:o.onTouchStart,ref:o.sliderSvg,onMouseUp:o.onMouseUp,onMouseMove:o.onMove},g.a.createElement("defs",null,g.a.createElement("filter",{id:"dropshadow",x:"-40%",y:"-40%",width:"180%",height:"180%",filterUnits:"userSpaceOnUse"},g.a.createElement("feGaussianBlur",{in:"SourceAlpha",result:"shadowBlurOuter1",stdDeviation:"2"}),g.a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.131001602 0 0 0 0 0.270895425 0 0 0 0 0.43622449 0 0 0 0.29761096 0"}),g.a.createElement("feOffset",{dx:"5",dy:"5",result:"offsetblur"}),g.a.createElement("feOffset",{dx:"-5",dy:"-5",result:"offsetblur"}),g.a.createElement("feMerge",null,g.a.createElement("feMergeNode",null),g.a.createElement("feMergeNode",{in:"SourceGraphic"}),g.a.createElement("feMergeNode",{in:"SourceGraphic"})))),g.a.createElement("line",{className:"slider__line-fill",x1:8,y1:"50%",x2:s,y2:"50%",strokeWidth:"3",strokeLinecap:"round"}),g.a.createElement("line",{className:"slider__line-empty",x1:s,y1:"50%",x2:o.lineLength+8,y2:"50%",strokeWidth:"3",strokeLinecap:"round"}),g.a.createElement("circle",{className:"slider__circle",cx:s,cy:"50%",r:8,strokeWidth:"3"})),g.a.createElement("div",{className:"slider__value"},g.a.createElement(Te.a,{value:String(i),postfix:g.a.createElement("span",{className:"SliderLumin__extension"},o.getExtension()),onChange:o.handleChangeInput,onBlur:o.handleOnBlur})))})),S()(p()(o),"renderSliderOpacity",(function(){var e=o.props,t=e.property,n=e.displayProperty,a=o.state.sliderValue;return g.a.createElement(Me,{color:"#000000",extension:o.getExtension(),sliderValue:a,changeSlider:o.onChangeOpacityInputValue,setSliderValue:o.handleChangeInput,handleOnBlur:o.handleOnBlur,property:t,displayProperty:n})})),S()(p()(o),"onChangeOpacityInputValue",(function(e){o.setState({sliderValue:parseInt(e)}),o.onChange(e)})),o.state={sliderValue:0},o.isMouseDown=!1,o.sliderSvg=g.a.createRef(),o.lineLength=0,o.updateMinValue=null,o.state={sliderValue:0,circleCenter:0},o.debounceInput=de()(o.onChange,700),o}return u()(n,[{key:"componentDidMount",value:function(){var e,t=this.props.getCirclePosition;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("orientationchange",this.updateSvg),window.addEventListener("resize",this.updateSvg),F.default.addEventListener("annotationChanged",this.onAnnotationChanged),null===(e=this.sliderSvg.current)||void 0===e||e.addEventListener("touchmove",this.onMove,{passive:!1}),this.updateSvg(),this.setState({sliderValue:this.props.initialValue}),this.setState({circleCenter:t(this.lineLength,this.props.initialValue)})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.currentPalette,o=t.getCirclePosition,a=this.state.sliderValue;e.currentPalette!==n&&(this.updateSvg(),this.setState({circleCenter:o(this.lineLength,a)}))}},{key:"componentWillUnmount",value:function(){var e;window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("orientationchange",this.updateSvg),window.removeEventListener("resize",this.updateSvg),F.default.removeEventListener("annotationChanged",this.onAnnotationChanged),null===(e=this.sliderSvg.current)||void 0===e||e.removeEventListener("touchmove",this.onMove,{passive:!1})}},{key:"render",value:function(){var e=this.props.property;return Re.i?g.a.createElement("div",{className:"slider"},this.renderSlider()):"Opacity"===e?this.renderSliderOpacity():this.renderSlider()}}]),n}(g.a.PureComponent);De.propTypes=Ie,De.defaultProps={initialValue:0};var we=De,Ue=Object(_.a)(null,{wait:!1})(we),Fe=n("./src/constants/dataElement.js");function Ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return T()(this,n)}}var Ve=100,He=function(e){f()(n,e);var t=Ke(n);function n(){var e;s()(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a)),S()(p()(e),"renderColorPalette",(function(){var t=e.props,n=t.style,o=t.onStyleChange,a=t.currentPalette,r=t.colorMapKey,l=t.annotation,i=t.placement,s=l&&l.Subject===k.g.REDACTION?"FillColor":a;return g.a.createElement(ie,{color:n[s],property:s,onStyleChange:o,colorMapKey:r,annotation:l,placement:i})})),S()(p()(e),"renderSliders",(function(){var t=e.props,n=t.style.StrokeThickness,o=t.onStyleChange,a=t.isFreeText,r=t.annotation,i=t.isStrokeThicknessSliderDisabled,s=t.currentPalette,c=[],u=r.ToolName===V.a.SQUIGGLY||r.ToolName===V.a.HIGHTLIGHT||r.ToolName===V.a.UNDERLINE||r.ToolName===V.a.STRIKEOUT;return i||s!==k.b.STROKE_COLOR||u||c.push({dataElement:Fe.a.STROKE_THICKNESS_SLIDER,property:"StrokeThickness",displayProperty:"thickness",initialValue:n,getCirclePosition:function(e,t){return!a&&t<1?.05*e+8:(t>20?1:t/20)*e+8},convertRelativeCirclePositionToValue:function(e){return a?20*e:19*e+1},convertValue:function(e){return Math.round(e)},limitValue:{max:"20",min:a?"0":"1"}}),[n].map((function(e,t){if(null===e||void 0===e||!c[t])return null;var n=c[t],a=n.property;return g.a.createElement(Ue,l()({},n,{key:a,onStyleChange:o,annotation:r,currentPalette:s}))}))})),S()(p()(e),"renderSliderOpacity",(function(){var t,n=e.props,o=n.style,a=o.Opacity,r=o.FillColor,i=o.StrokeColor,s=n.onStyleChange,c=n.annotation,u=n.isOpacitySliderDisabled,d=n.currentPalette,p={};return u||(p={FillColor:r,StrokeColor:i,dataElement:Fe.a.OPACITY_SLIDER,property:"Opacity",displayProperty:"opacity",convertValue:function(e){return Math.round(e)/100},limitValue:{max:100,min:0},initialValue:Math.round(100*a),getCirclePosition:function(e,t){return(t>Ve?1:t/100)*e+8},convertRelativeCirclePositionToValue:function(e){return 100*e}}),null!==a&&void 0!==a&&p?g.a.createElement(Ue,l()({},p,{key:null===(t=p)||void 0===t?void 0:t.property,onStyleChange:s,annotation:c,currentPalette:d})):null})),S()(p()(e),"renderTextColorComponent",(function(){var t=e.props,n=t.colorMapKey,o=t.style,a=t.onStyleChange,r=t.annotation,l=t.isAnnotationStylePopup;return"freeText"!==n?null:g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"colors-container","data-element":Fe.a.COLOR_PALETTE},g.a.createElement("div",{className:"inner-wrapper"},g.a.createElement(Ne,{colorPalette:k.b.TEXT_COLOR,colorMapKey:n,style:o,onStyleChange:a,annotation:r,isAnnotationStylePopup:l}),g.a.createElement(ie,{color:null===o||void 0===o?void 0:o.TextColor,property:k.b.TEXT_COLOR,onStyleChange:a,colorMapKey:n}))),g.a.createElement("div",{className:"divider horizontal"}))})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.isColorPaletteDisabled,n=e.currentPalette,o=e.style,a=e.colorMapKey,r=e.isSignature,l=e.isOpacitySliderDisabled,i=e.isStrokeThicknessSliderDisabled,s=e.isFontSizeSliderDisabled,c=e.isStylePopupDisabled,u=e.onStyleChange,d=e.isAnnotationStylePopup,p=e.hideOpacitySlider,m=e.hideThicknessSlider,f=e.annotation,h=i&&s,T=f&&f.Subject===k.g.REDACTION?"FillColor":n;return c?null:g.a.createElement("div",{className:"Popup StylePalette","data-element":Fe.a.STYLE_POPUP,onClick:function(e){return e.stopPropagation()},onScroll:function(e){return e.stopPropagation()}},this.renderTextColorComponent(),n&&!r&&!t&&g.a.createElement("div",{className:"colors-container","data-element":Fe.a.COLOR_PALETTE},g.a.createElement("div",{className:"inner-wrapper"},g.a.createElement(D,{colorPalette:T,colorMapKey:a,style:o,onStyleChange:u,isAnnotationStylePopup:d,annotation:f}),!h&&g.a.createElement("div",{className:"sliders-container"},!m&&g.a.createElement("div",{className:"sliders"},this.renderSliders())),this.renderColorPalette())),!l&&n!==k.b.TEXT_COLOR&&!p&&g.a.createElement("div",{className:"sliders-container"},g.a.createElement("div",{className:"sliders--opacity"},this.renderSliderOpacity())))}}]),n}(g.a.PureComponent);He.propTypes={style:C.a.object.isRequired,onStyleChange:C.a.func.isRequired,isFreeText:C.a.bool.isRequired,hideDivider:C.a.bool,colorMapKey:C.a.string,currentPalette:C.a.oneOf(["TextColor","StrokeColor","FillColor"]),isColorPaletteDisabled:C.a.bool,isOpacitySliderDisabled:C.a.bool,isStrokeThicknessSliderDisabled:C.a.bool,isFontSizeSliderDisabled:C.a.bool,isStyleOptionDisabled:C.a.bool,isStylePopupDisabled:C.a.bool,isSignature:C.a.bool,annotation:C.a.object,isAnnotationStylePopup:C.a.bool,hideOpacitySlider:C.a.bool,hideThicknessSlider:C.a.bool,placement:C.a.string},He.defaultProps={hideDivider:!1,colorMapKey:"",currentPalette:"TextColor",isColorPaletteDisabled:!1,isOpacitySliderDisabled:!1,isStrokeThicknessSliderDisabled:!1,isFontSizeSliderDisabled:!1,isStyleOptionDisabled:!1,isStylePopupDisabled:!1,isSignature:!1,annotation:{},isAnnotationStylePopup:!1,hideOpacitySlider:!1,hideThicknessSlider:!1,placement:"bottom"};var ze=He,Ge={COLOR_PALETTE:"colorPalette",OPACITY_SLIDER:"opacitySlider",STROKE_THICKNESS_SLIDER:"strokeThicknessSlider",FONT_SIZE_SLIDER:"fontSizeSlider",STYLE_OPTION:"styleOption"};t.a=Object(o.c)((function(e,t){var n=t.colorMapKey;return{currentPalette:a.a.getCurrentPalette(e,n),isStylePopupDisabled:a.a.isElementDisabled(e,Ge.STYLE_POPUP),isColorPaletteDisabled:a.a.isElementDisabled(e,Ge.COLOR_PALETTE),isOpacitySliderDisabled:a.a.isElementDisabled(e,Ge.OPACITY_SLIDER),isStrokeThicknessSliderDisabled:a.a.isElementDisabled(e,Ge.STROKE_THICKNESS_SLIDER),isFontSizeSliderDisabled:a.a.isElementDisabled(e,Ge.FONT_SIZE_SLIDER),isStyleOptionDisabled:a.a.isElementDisabled(e,Ge.STYLE_OPTION)}}))(ze)}}]);