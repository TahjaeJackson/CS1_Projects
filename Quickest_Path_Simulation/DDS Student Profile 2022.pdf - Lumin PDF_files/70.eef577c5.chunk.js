(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{"./node_modules/lodash/_arrayIncludes.js":function(e,t,n){var o=n("./node_modules/lodash/_baseIndexOf.js");e.exports=function(e,t){return!!(null==e?0:e.length)&&o(e,t,0)>-1}},"./node_modules/lodash/_arrayIncludesWith.js":function(e,t){e.exports=function(e,t,n){for(var o=-1,a=null==e?0:e.length;++o<a;)if(n(t,e[o]))return!0;return!1}},"./node_modules/lodash/_baseDifference.js":function(e,t,n){var o=n("./node_modules/lodash/_SetCache.js"),a=n("./node_modules/lodash/_arrayIncludes.js"),s=n("./node_modules/lodash/_arrayIncludesWith.js"),r=n("./node_modules/lodash/_arrayMap.js"),l=n("./node_modules/lodash/_baseUnary.js"),i=n("./node_modules/lodash/_cacheHas.js");e.exports=function(e,t,n,d){var c=-1,u=a,m=!0,p=e.length,f=[],h=t.length;if(!p)return f;n&&(t=r(t,l(n))),d?(u=s,m=!1):t.length>=200&&(u=i,m=!1,t=new o(t));e:for(;++c<p;){var g=e[c],b=null==n?g:n(g);if(g=d||0!==g?g:0,m&&b===b){for(var y=h;y--;)if(t[y]===b)continue e;f.push(g)}else u(t,b,d)||f.push(g)}return f}},"./node_modules/lodash/_baseFindIndex.js":function(e,t){e.exports=function(e,t,n,o){for(var a=e.length,s=n+(o?1:-1);o?s--:++s<a;)if(t(e[s],s,e))return s;return-1}},"./node_modules/lodash/_baseIndexOf.js":function(e,t,n){var o=n("./node_modules/lodash/_baseFindIndex.js"),a=n("./node_modules/lodash/_baseIsNaN.js"),s=n("./node_modules/lodash/_strictIndexOf.js");e.exports=function(e,t,n){return t===t?s(e,t,n):o(e,a,n)}},"./node_modules/lodash/_baseIsNaN.js":function(e,t){e.exports=function(e){return e!==e}},"./node_modules/lodash/_strictIndexOf.js":function(e,t){e.exports=function(e,t,n){for(var o=n-1,a=e.length;++o<a;)if(e[o]===t)return o;return-1}},"./node_modules/lodash/difference.js":function(e,t,n){var o=n("./node_modules/lodash/_baseDifference.js"),a=n("./node_modules/lodash/_baseFlatten.js"),s=n("./node_modules/lodash/_baseRest.js"),r=n("./node_modules/lodash/isArrayLikeObject.js"),l=s((function(e,t){return r(e)?o(e,a(t,1,r,!0)):[]}));e.exports=l},"./src/lumin-components/ViewerNewFeatureGuideModal/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/@apollo/react-hoc/lib/react-hoc.esm.js"),s=n("./src/redux/selectors/index.js"),r=n("./src/redux/actions/index.js"),l=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(l),d=n("./node_modules/react/index.js"),c=n.n(d),u=n("./node_modules/prop-types/index.js"),m=n.n(u),p=n("./assets/lumin-svgs/more.svg"),f=n.n(p),h=n("./src/lumin-components/ButtonMaterial/index.js"),g=n("./node_modules/classnames/index.js"),b=n.n(g),y={isOpenModal:m.a.bool,logo:m.a.string,content:m.a.string,closeModal:m.a.func,onClickStartGuide:m.a.func};function j(e){var t=e.logo,n=e.content,o=e.closeModal,a=e.onClickStartGuide,s=e.isOpenModal;return c.a.createElement("div",{className:b()({Modal:!0,ViewerWhatsNewModal:!0,open:s,closed:!s}),"data-element":"viewerWhatsNewsModal"},c.a.createElement("div",{className:"ViewerWhatsNewModal-container"},c.a.createElement("div",{className:"ViewerWhatsNewModal-header"},c.a.createElement("img",{src:t}),c.a.createElement("span",{className:"text-header"},"What's New?")),c.a.createElement("div",{className:"ViewerWhatsNewModal-content"},c.a.createElement("span",{className:"text-content"},n)),c.a.createElement("div",{className:"ViewerWhatsNewModal-footer"},c.a.createElement(h.a,{className:"secondary",onClick:o},"No, thanks"),c.a.createElement(h.a,{className:"primary",onClick:a},"Show me"))))}j.propTypes=y,j.defaultProps={isOpenModal:!1,logo:"",content:"",closeModal:function(){},onClickStartGuide:function(){}};var _=j,E="eraser",x="signature",v="comment",w="merge-docs",k=[E,x,v,w],N=n("./src/utils/Factory/EventCollection/ModalEventCollection.js"),C=n("./src/graphql/UserGraph.js"),O=n("./src/helpers/eventHandler.js"),S=n("./src/hooks/useTrackingModalEvent.js"),I=n("./node_modules/@babel/runtime/regenerator/index.js"),M=n.n(I),T=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),R=n.n(T),F=n("./src/hooks/index.js"),U=n("./node_modules/lodash/difference.js"),P=n.n(U),W=n("./src/lumin-components/Icomoon/index.js"),G=n("./node_modules/react-joyride/es/index.js"),L=n("./node_modules/@material-ui/core/esm/Button/Button.js"),D={headerTitle:m.a.string,content:m.a.any,hyperLink:m.a.string,onClickHyperLink:m.a.func,isLastStep:m.a.bool,setRun:m.a.func};function V(e){var t=e.headerTitle,n=e.content,o=e.hyperLink,a=e.onClickHyperLink,s=e.isLastStep,r=e.setRun;return c.a.createElement("div",{className:"ViewerTourContent-container"},c.a.createElement("div",{className:"ViewerTourContent-header"},c.a.createElement("span",null,t),s&&c.a.createElement(L.a,{className:"close-btn",onClick:function(){r(!1)}},c.a.createElement(W.a,{className:"cross icon__12",size:12}))),c.a.createElement("div",{className:"ViewerTourContent-content"},n," ",c.a.createElement("span",{className:"link",onClick:a},o)))}V.propTypes=D,V.defaultProps={headerTitle:"",content:"",hyperLink:"",onClickHyperLink:function(){},isLastStep:!1,setRun:function(){}};var B=V,H=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),A=H.d.span.withConfig({componentId:"sc-1osb1uf-0"})(["border:0px;border-radius:4px;color:rgb(255,255,255);cursor:pointer;font-size:14px;line-height:0.5;appearance:none;height:26px;font-family:NunitoSans,Arial,sans-serif;font-weight:bold;background-color:#3c80ef;"]),z=H.d.span.withConfig({componentId:"sc-1osb1uf-1"})(["margin-left:8px;"]),J={startGuideRef:m.a.object,run:m.a.bool,setRun:m.a.func,listOldFeature:m.a.array};function q(e){var t=e.startGuideRef,n=e.run,o=e.setRun,a=e.listOldFeature,s=Object(d.useState)(0),r=i()(s,2),l=r[0],u=r[1],m=Object(F.o)().width,p=P()(k,a),f=function(){var e=R()(M.a.mark((function e(t){var n,a,s,r,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.action,a=t.index,s=t.status,r=t.type,l=t.lifecycle,G.c.READY===l&&(document.body.style.overflow="hidden"),[G.b.STEP_AFTER,G.b.TARGET_NOT_FOUND].includes(r)&&u(a+(n===G.a.NEXT?1:-1)),[G.d.SKIPPED,G.d.FINISHED].includes(s)&&o(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h={target:".joyride-viewer-eraser",content:c.a.createElement(B,{headerTitle:"Erase mistakes",content:"Our eraser tool is here \ud83c\udf89 Use it to get rid of any unwanted annotations or markups.",stepIndex:l}),styles:{spotlight:{borderRadius:4}},offset:-10,spotlightPadding:0,placement:"bottom"},g={target:".joyride-viewer-signature",content:c.a.createElement(B,{headerTitle:"E-signature upgrade",content:"Drop your e-signature into your documents with just one seamless click.",stepIndex:l}),offset:-10,spotlightPadding:0,placement:"bottom"},b={target:".joyride-viewer-comment",content:c.a.createElement(B,{headerTitle:"Collaboration made easy",content:"Tag document contributors by simply hitting @. View your full comment history and \u201cMark as resolved\u201d when you\u2019re done.",stepIndex:l}),offset:-10,spotlightPadding:0,placement:"bottom"},y={target:m<1200?".joyride-viewer-page-tool-tablet":".joyride-viewer-page-tool",content:c.a.createElement(B,{headerTitle:"Merge documents",content:"Upload a file into another and rearrange the pages to get your documents how you want them.",hyperLink:"Try this feature now",onClickHyperLink:function(){o(!1),document.getElementById("viewer-button-page-tool").click(),setTimeout((function(){document.getElementById("viewer-merge-docs").click()}),500)},stepIndex:l,isLastStep:!0,setRun:o}),offset:-10,spotlightPadding:0,placement:"bottom"},j=[];return p&&p.length>0&&p.forEach((function(e){e===E&&j.push(h),e===x&&j.push(g),e===v&&j.push(b),e===w&&j.push(y)})),j.length>0&&(j[0].disableBeacon=!0),c.a.createElement(G.e,{ref:t,steps:j,run:n,stepIndex:l,callback:f,continuous:!0,locale:{last:"Done",next:c.a.createElement(A,null,"Next",c.a.createElement(z,null,c.a.createElement(W.a,{className:"next-page",size:10})))},disableCloseOnEsc:!0,disableScrolling:!0,disableOverlayClose:!0,hideBackButton:!0,showSkipButton:!0,floaterProps:{styles:{arrow:{length:8,spread:10},floater:{zIndex:300,top:"-10px",filter:"none"}}},styles:{overlay:{zIndex:202},spotlight:{borderRadius:"4px"},beacon:{display:"none"},options:{arrowColor:"#3c80ef"},tooltip:{width:"258px",padding:"22px 18px 16px",borderRadius:"4px",backgroundColor:"#3c80ef"},tooltipContent:{padding:"0"},buttonSkip:{fontFamily:"NunitoSans",fontSize:"14px",fontWeight:"bold",fontStretch:"normal",fontStyle:"normal",lineHeight:1.43,letterSpacing:"0.34px",padding:0,color:"#fff"},buttonNext:{fontFamily:"NunitoSans",fontSize:"14px",fontWeight:"bold",fontStretch:"normal",fontStyle:"normal",lineHeight:1.43,letterSpacing:"0.34px",padding:0,color:"#fff",backgroundColor:"#3c80ef",outline:0},buttonClose:{display:"none"},tooltipFooter:{marginTop:"8px"}}})}q.propTypes=J,q.defaultProps={startGuideRef:{},run:!1,setRun:function(){},listOldFeature:[]};var K=q;function X(e){var t,n,o=e.client,a=e.currentUser,s=e.setCurrentUser,r=e.isPageEditMode,l=Object(d.useState)(a),u=i()(l,2),m=u[0],p=(u[1],Object(d.useRef)()),h=null===m||void 0===m?void 0:m.introducedFeature,g=(t=k,n=h,!(JSON.stringify(t)===JSON.stringify(n))),b=Object(d.useState)(!1),y=i()(b,2),j=y[0],E=y[1],x=Object(d.useState)(g),v=i()(x,2),w=v[0],I=v[1],M=Object(S.a)({modalName:N.a.NEW_VIEWER_FEATURE_GUIDE,modalPurpose:N.b[N.a.NEW_VIEWER_FEATURE_GUIDE],isOpen:w}),T=M.trackModalConfirmation,R=M.trackModalDismiss;if(Object(d.useEffect)((function(){g&&(w||j?Object(O.b)(!0):Object(O.a)(!0))}),[w,j]),!a)return null;var F=function(){o.mutate({mutation:C.w,variables:{input:{introducedFeature:k}}}).then((function(e){var t=e.data.updateUserData;s(null===t||void 0===t?void 0:t.user)})),I(!1)};return g&&c.a.createElement(c.a.Fragment,null,c.a.createElement(_,{logo:f.a,content:"We\u2019ve made some improvements since you were last here! Want to check them out?",closeModal:function(){F(),R()},isOpenModal:w,onClickStartGuide:function(){T(),r&&document.getElementById("viewer-button-viewer").click(),E(!0),F()}}),c.a.createElement(K,{startGuideRef:p,run:j,setRun:E,listOldFeature:h}))}X.propTypes={currentUser:m.a.object,client:m.a.object.isRequired,setCurrentUser:m.a.func,isPageEditMode:m.a.bool},X.defaultProps={currentUser:null,setCurrentUser:function(){},isPageEditMode:!1};var Y=X;t.default=Object(o.c)((function(e){return{currentUser:s.a.getCurrentUser(e),isPageEditMode:s.a.isPageEditMode(e)}}),(function(e){return{dispatch:e,setCurrentUser:function(t){return e(r.a.setCurrentUser(t))}}}))(Object(a.a)(Y))}}]);