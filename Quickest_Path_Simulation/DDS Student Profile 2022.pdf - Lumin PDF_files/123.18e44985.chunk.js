(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{"./assets/images/icons-upload-progress.svg":function(e,n){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg version='1.1' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Ctitle%3EA9643255-4FB5-44C4-8B36-468E817B0535%3C/title%3E %3Cg fill='none' fill-rule='evenodd'%3E %3Cg transform='translate(-1076 -798)' fill-rule='nonzero'%3E %3Cg transform='translate(1058 778)'%3E %3Cg transform='translate(18 18)'%3E %3Cg transform='translate(-0 2)'%3E %3Cg transform='translate(1.6667 1.6667)'%3E %3Cpath d='m3.4722 6.25 4.8611-6.25 4.8611 6.25h-4.1667v5.5556c0 0.38403-0.31042 0.69444-0.69444 0.69444-0.38403 0-0.69444-0.31042-0.69444-0.69444v-5.5556h-4.1667z' fill='%23fff'/%3E %3Cg transform='translate(0 15.278)'%3E %3Cpath d='m15.972 1.3889h-15.278c-0.38333 0-0.69444-0.31111-0.69444-0.69444 0-0.38333 0.31111-0.69444 0.69444-0.69444h15.278c0.38333 0 0.69444 0.31111 0.69444 0.69444 0 0.38333-0.31111 0.69444-0.69444 0.69444z' fill='%23fff'/%3E %3Cpath d='m7.9861 1.3889h-7.6389c-0.19167 0-0.34722-0.31111-0.34722-0.69444 0-0.38333 0.15556-0.69444 0.34722-0.69444h7.6389c0.19167 0 0.34722 0.31111 0.34722 0.69444 0 0.38333-0.15556 0.69444-0.34722 0.69444z' fill='%23273D57'/%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},"./src/lumin-components/UploadingBox/index.js":function(e,n,t){"use strict";t.r(n);var o=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=t.n(o),a=t("./node_modules/react/index.js"),r=t.n(a),l=t("./node_modules/prop-types/index.js"),s=t.n(l),c=t("./node_modules/react-redux/es/index.js"),d=t("./src/redux/selectors/index.js"),u=t("./src/hooks/index.js"),p=t("./src/constants/styles/index.js"),m=t("./node_modules/styled-components/dist/styled-components.browser.esm.js"),g=m.d.div.withConfig({componentId:"sc-1cm6y0k-0"})(["position:fixed;bottom:48px;right:48px;z-index:1000;"]),f=m.d.div.withConfig({componentId:"sc-1cm6y0k-1"})(["width:374px;border-top-left-radius:8px;border-top-right-radius:8px;box-shadow:",";border:solid 2px ",";background-color:",";box-sizing:border-box;overflow:hidden;"],p.f.CONTAINER_SHADOW,p.b.CLOUDYBLUE,p.b.WHITE),h=t("./src/redux/actions/index.js"),b=t("./src/lumin-components/Icomoon/index.js"),x=t("./assets/images/icons-upload-progress.svg"),E=t.n(x),C=t("./src/constants/lumin-common.js"),w=t("./src/utils/styled.js"),v=m.d.div.withConfig({componentId:"sc-11mky3k-0"})(["height:56px;background-color:",";padding:0 16px;display:grid;grid-template-columns:minmax(0,1fr) 20px 20px;column-gap:16px;align-items:center;"],p.b.ROYAL_BLUE),I=m.d.div.withConfig({componentId:"sc-11mky3k-1"})(["display:flex;align-items:center;"]),y=m.d.h6.withConfig({componentId:"sc-11mky3k-2"})(["font-size:16px;font-weight:600;line-height:1.5;color:",";overflow:hidden;white-space:nowrap;text-overflow:ellipsis;min-width:0;margin-left:8px;"],p.b.WHITE),O=m.d.img.withConfig({componentId:"sc-11mky3k-3"})(["width:20px;height:20px;"]),R=m.d.button.withConfig({componentId:"sc-11mky3k-4"})(["width:24px;height:24px;cursor:pointer;background-color:transparent;outline:none;border:none;display:flex;justify-content:center;align-items:center;"]),U=Object(m.d)(R).withConfig(Object(w.b)(["isCollapsing"])).withConfig({componentId:"sc-11mky3k-5"})(["transition:transform 0.3s ease-in-out;",""],(function(e){return e.isCollapse&&"\n    transform: rotate(-180deg);\n  "})),j={isCollapse:s.a.bool.isRequired,setCollapse:s.a.func.isRequired,numOfRemaining:s.a.number.isRequired,numOfFailed:s.a.number.isRequired,numOfCompleted:s.a.number.isRequired,openModal:s.a.func.isRequired,resetUploadingState:s.a.func.isRequired,cancelAllUploadingFiles:s.a.func.isRequired};function k(e){var n=e.isCollapse,t=e.setCollapse,o=e.numOfRemaining,i=e.numOfFailed,a=e.numOfCompleted,l=e.openModal,s=e.resetUploadingState,c=e.cancelAllUploadingFiles,d=function(e,n){return e?"".concat(e).concat(n):""},u=function(){c(),s()},m=function(){if(o>0)return{icon:r.a.createElement(O,{src:E.a}),text:"Uploading ".concat(o," file(s)")};if(i>0||a>0){var e=i>0?"info":"success",n=i>0&&a>0?"":" upload(s)",t=d(a,"".concat(n," completed")),l=d(i,"".concat(n," failed"));return{icon:r.a.createElement(b.a,{className:e,size:20,color:p.b.WHITE}),text:[t,l].filter(Boolean).join(", ")}}return{icon:null,text:null}}(),g=m.icon,f=m.text;return r.a.createElement(v,null,r.a.createElement(I,null,g,r.a.createElement(y,null,f)),r.a.createElement(U,{isCollapse:n,onClick:function(){return t(!n)}},r.a.createElement(b.a,{className:"arrow-down",size:12,color:p.b.WHITE})),r.a.createElement(R,{onClick:function(){o>0?l({type:C.A.WARNING,title:"Cancel all uploads?",message:"Your uploads haven\u2019t been completed yet. Would you like to cancel all progressing uploads?",color:"accent",confirmButtonTitle:"Cancel upload",cancelButtonTitle:"Continue upload",onConfirm:u,onCancel:function(){}}):u()}},r.a.createElement(b.a,{className:"cancel",size:12,color:p.b.WHITE})))}k.propTypes=j;var S=Object(c.c)((function(e){var n=d.a.getUploadingDocumentsStat(e);return{numOfCompleted:n.completed,numOfFailed:n.failed,numOfRemaining:n.uploading}}),(function(e){return{openModal:function(n){return e(h.a.openModal(n))},resetUploadingState:function(){return e(h.a.resetUploadingState())},cancelAllUploadingFiles:function(){return e(h.a.cancelAllUploadingFiles())}}}))(r.a.memo(k)),z=t("./node_modules/react-custom-scrollbars/lib/index.js"),q=t.n(z),A=-1,D=1;var N=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),T=t.n(N),L=t("./src/utils/index.js"),B=t("./src/lumin-components/SvgElement/index.js"),F=t("./src/constants/supportedFiles.js"),H=t("./node_modules/@material-ui/core/esm/IconButton/IconButton.js"),M=Object(m.e)(["100%{transform:translateX(100%);}"]),P=m.d.div.withConfig({componentId:"qvcm99-0"})(["display:flex;padding:0;flex-direction:row;align-items:center;justify-content:space-between;border-bottom:1px solid ",';box-sizing:border-box;width:100%;[class^="icon-"]{margin-right:0;width:auto;}'],p.b.ALICEBLUE),Y=m.d.img.withConfig({componentId:"qvcm99-1"})(["width:100%;height:100%;object-fit:cover;z-index:1;"]),_=m.d.div.withConfig(Object(w.b)(["loading"])).withConfig({componentId:"qvcm99-3"})(["width:60px;height:48px;background-color:",";border-radius:2px;border:solid 0.5px ",';overflow:hidden;display:flex;justify-content:center;align-items:center;flex-shrink:0;box-sizing:border-box;position:relative;&:before{content:"";display:block;width:100%;height:100%;position:absolute;top:0;left:0;z-index:0;transform:translateX(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,0.6),transparent);animation:'," 1.5s infinite;animation-play-state:",";}"],p.b.SOLITUDE,p.b.SOLITUDE,M,(function(e){return e.loading?"running":"paused"})),W=m.d.h4.withConfig({componentId:"qvcm99-4"})(["font-size:14px;color:",";font-weight:600;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],p.b.PRIMARY),G=m.d.div.withConfig({componentId:"qvcm99-5"})(["width:calc(100% - 60px - 24px);padding:0 16px 0 12px;box-sizing:border-box;display:flex;",""],(function(e){return e.horizontal?"\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-start;\n  ":"\n    flex-direction: column;\n    justify-content: flex-start;\n  "})),X=Object(m.d)(H.a).withConfig({componentId:"qvcm99-6"})(["color:",";width:24px;height:24px;padding:0;display:flex;justify-content:center;align-items:center;border-radius:50%;flex-shrink:0;"],p.b.SECONDARY),J=m.d.h6.withConfig({componentId:"qvcm99-7"})(["font-size:12px;font-weight:500;color:",";line-height:1.3;"],p.b.SECONDARY),K=m.d.div.withConfig({componentId:"qvcm99-8"})(["padding-top:4px;"]),Q=m.d.div.withConfig({componentId:"qvcm99-9"})(["color:",";font-size:12px;display:inline-flex;align-items:center;width:fit-content;padding:0;margin-top:6px;min-width:auto;cursor:pointer;"],p.b.ROYAL_BLUE),V=m.d.div.withConfig({componentId:"qvcm99-10"})(["background-color:",";border-radius:2px;margin-bottom:2px;position:relative;overflow:hidden;height:12px;&::before{content:'';display:block;position:absolute;top:0;left:0;height:100%;transition:width 1s linear;will-change:width;width:","%;background-color:",";}"],p.b.SOLITUDE,(function(e){return e.progress}),p.b.PRIMARY),Z=m.d.h6.withConfig({componentId:"qvcm99-11"})(["font-size:10px;text-align:center;color:",";position:absolute;left:50%;transform:translateX(-50%);line-height:1.4;"],(function(e){return e.progress>50?p.b.WHITE:p.b.SECONDARY})),$=m.d.div.withConfig({componentId:"qvcm99-12"})(["flex:1 1 0;padding-left:16px;"]),ee=m.d.span.withConfig({componentId:"qvcm99-13"})(["font-weight:600;display:inline-block;padding-left:5px;"]),ne=m.d.span.withConfig({componentId:"qvcm99-14"})(["font-weight:500;line-height:14px;font-size:12px;color:",";cursor:auto;"],p.b.RED),te={file:s.a.object.isRequired,progress:s.a.number,thumbnail:s.a.string,errorMessage:s.a.string,status:s.a.string.isRequired,groupId:s.a.string.isRequired,onRetryClick:s.a.func.isRequired,onCancelClick:s.a.func.isRequired};function oe(e){var n=e.groupId,t=e.errorMessage,o=e.file,i=e.thumbnail,a=e.progress,l=e.status,s=e.onRetryClick,c=e.onCancelClick,d=l===L.a.UploadStatus.PROCESSING,u=l===L.a.UploadStatus.UPLOADING;return r.a.createElement(P,null,r.a.createElement(_,{loading:d||u},function(){if(!i){var e=L.u.getFileType(o),n=[].concat(T()(F.d),T()(F.c)).includes(e);return r.a.createElement(B.a,{content:"".concat(n?e:"pdf","-grey"),width:14,height:19})}return r.a.createElement(Y,{src:i})}()),r.a.createElement(G,{horizontal:d},r.a.createElement(W,null,L.H.getShortString(o.name.slice(0,o.name.lastIndexOf(".")))),function(){switch(l){case L.a.UploadStatus.PROCESSING:return r.a.createElement($,null,r.a.createElement(J,null,"Compressing",r.a.createElement("br",null),"Please wait\u2026"));case L.a.UploadStatus.UPLOADING:return r.a.createElement(K,null,r.a.createElement(V,{progress:a},r.a.createElement(Z,{progress:a},"".concat(a," %"))),function(){var e=o.size/100*a,n=a>0?Object(L.e)(e):"0 KB";return r.a.createElement(J,null,"".concat(n," of ").concat(Object(L.e)(o.size)))}());case L.a.UploadStatus.COMPLETED:return null;case L.a.UploadStatus.ERROR:return t?r.a.createElement(Q,null,r.a.createElement(ne,null,t)):r.a.createElement(Q,{onClick:function(){return s(n)}},r.a.createElement(b.a,{className:"retry",size:12,color:p.b.ROYAL_BLUE}),r.a.createElement(ee,null,"Retry"));default:return null}}()),function(){switch(l){case L.a.UploadStatus.PROCESSING:case L.a.UploadStatus.UPLOADING:return r.a.createElement(X,{onClick:function(){return c(n)}},r.a.createElement(b.a,{className:"cancel-thinner",size:12}));case L.a.UploadStatus.COMPLETED:return r.a.createElement(b.a,{className:"success",size:20,color:p.b.GREEN});case L.a.UploadStatus.ERROR:return r.a.createElement(b.a,{className:"exclamation-mark",size:20,color:p.b.RED});default:return null}}())}oe.propTypes=te,oe.defaultProps={progress:0,thumbnail:null,errorMessage:""};var ie=Object(c.c)(null,(function(e){return{onRetryClick:function(n){return e(h.a.retryUploadFile(n))},onCancelClick:function(n){return e(h.a.cancelUploadFile(n))}}}))(r.a.memo(oe)),ae=m.d.div.withConfig({componentId:"sc-1woz6bp-0"})(["transition:all 0.3s ease-in-out;"," ",""],(function(e){var n=e.containerHeight;return null!==n&&"\n    max-height: ".concat(n,"px;\n    opacity: 1;\n    pointer-events: auto;\n  ")}),(function(e){return e.isCollapse&&"\n    max-height: 0;\n    opacity: 0;\n    pointer-events: none;\n  "})),re=m.d.div.withConfig({componentId:"sc-1woz6bp-1"})(["display:flex;align-items:center;justify-content:space-between;background-color:",";color:",";font-size:14px;font-weight:500;padding:0 16px;transition:all 0.3s linear;height:40px;max-height:40px;opacity:1;pointer-events:auto;",";"],p.b.SOLITUDE,p.b.SECONDARY,(function(e){return!e.isDisplay&&"\n    max-height: 0;\n    opacity: 0;\n    pointer-events: none;\n  "})),le=m.d.button.withConfig({componentId:"sc-1woz6bp-2"})(["cursor:pointer;background-color:transparent;outline:none;border:none;font-size:14px;font-weight:600;color:",";transition:color 0.3s ease-in-out;&:hover{color:",";}"],p.b.SECONDARY,p.b.RED),se=m.d.div.withConfig({componentId:"sc-1woz6bp-3"})([""]),ce=m.d.div.withConfig({componentId:"sc-1woz6bp-4"})(["padding:16px;","{&:not(:first-child){padding-top:4px;}&:not(&:last-child){padding-bottom:4px;}&:last-child{border-bottom:none;}}"],P),de={uploadingItems:s.a.array,isCollapse:s.a.bool.isRequired,numOfRemaining:s.a.number.isRequired,cancelAllUploadingFiles:s.a.func.isRequired};function ue(e){var n,t,o=e.uploadingItems,l=e.isCollapse,s=e.numOfRemaining,c=e.cancelAllUploadingFiles,d=Object(a.useState)(null),u=i()(d,2),p=u[0],m=u[1],g=Object(a.useRef)(null),f=Object(a.useRef)(null),h=s>1?"documents":"document";return t=null===(n=f.current)||void 0===n?void 0:n.parentNode,Object(a.useEffect)((function(){var e=function(e){var n=e.deltaY;if(t){var o=t.scrollHeight,i=t.clientHeight,a=t.scrollTop,r=n>0?D:A;(!a&&r===A&&r===A||o===i+a&&r===D&&r===D)&&e.preventDefault()}};return t&&t.addEventListener("wheel",e),function(){t&&t.removeEventListener("wheel",e)}}),[t]),Object(a.useEffect)((function(){var e=(g.current||{}).scrollHeight;m((void 0===e?0:e)+(s>0?40:0))}),[s]),r.a.createElement(ae,{isCollapse:l,containerHeight:p,ref:g},r.a.createElement(re,{isDisplay:Boolean(s)},r.a.createElement("h6",null,s," ",h," remaining..."),r.a.createElement(le,{onClick:c},"Cancel upload")),r.a.createElement(se,null,r.a.createElement(q.a,{autoHeight:!0,autoHeightMax:290,thumbSize:100},r.a.createElement(ce,{ref:f},o.map((function(e){return r.a.createElement(ie,{key:e.groupId,file:e.fileData.file,groupId:e.groupId,progress:e.progress,thumbnail:e.thumbnail,status:e.status,errorMessage:e.errorMessage})}))))))}ue.propTypes=de,ue.defaultProps={uploadingItems:[]};var pe=Object(c.c)((function(e){return{numOfRemaining:d.a.getUploadingDocumentsStat(e).uploading,uploadingItems:d.a.getUploadingDocuments(e)}}),(function(e){return{cancelAllUploadingFiles:function(){return e(h.a.cancelAllUploadingFiles())}}}))(r.a.memo(ue)),me={totalUploadItem:s.a.number.isRequired,currentUser:s.a.object};function ge(e){var n=e.totalUploadItem,t=e.currentUser,o=Object(u.l)(),l=Object(a.useState)(!1),s=i()(l,2),c=s[0],d=s[1];return Object(a.useEffect)((function(){n||d(!1)}),[n]),t&&n&&o?r.a.createElement(g,null,r.a.createElement(f,null,r.a.createElement(S,{isCollapse:c,setCollapse:d}),r.a.createElement(pe,{isCollapse:c}))):null}ge.propTypes=me,ge.defaultProps={currentUser:null};var fe=Object(c.c)((function(e){return{totalUploadItem:d.a.getUploadingDocumentsStat(e).total,currentUser:d.a.getCurrentUser(e)}}))(r.a.memo(ge));n.default=fe}}]);